@using MudBlazor
@inject IJSRuntime JS

<div class="module-tile">
    <div class="tile-inner">
        <div class="module-header">
            <div class="module-icon" style="background:@ModuleColor">
                <i class="@ModuleIcon module-icon-inner"></i>
            </div>

            <div class="module-title">
                <h5>@ModuleTitle</h5>
            </div>
        </div>

        <div class="module-body">
            <p class="module-description">@ModuleDescription</p>

            @if (!string.IsNullOrEmpty(ModuleMetric))
            {
                <div class="module-footer">
                    <div class="module-metric">@ModuleMetric</div>

                    <MudButton Variant="Variant.Text"
                               EndIcon="@Icons.Material.Filled.ArrowForward"
                               Class="learn-more-btn"
                               OnClick="LearnMore"
                               Style="color: #0d6efd;">
                        @Localizer[Langs.LearnMore]
                    </MudButton>
                </div>
            }
            else
            {
                <div class="module-footer justify-end">
                    <MudButton Variant="Variant.Text"
                               EndIcon="@Icons.Material.Filled.ArrowForward"
                               Class="learn-more-btn"
                               OnClick="LearnMore"
                               Style="color: #0d6efd;">
                        @Localizer[Langs.LearnMore]
                    </MudButton>
                </div>
            }
        </div>
    </div>
</div>

@code {
    [Parameter, EditorRequired]
    public string ModuleIcon { get; set; }

    [Parameter, EditorRequired]
    public string ModuleColor { get; set; }

    [Parameter, EditorRequired]
    public string ModuleTitle { get; set; }

    [Parameter, EditorRequired]
    public string ModuleDescription { get; set; }

    [Parameter, EditorRequired]
    public string ModuleMetric { get; set; }
    
    async Task LearnMore()
    {
        await JS.InvokeVoidAsync("blazorScrollTo", "contact");
    }
}