@using MagFlow.BLL.Services.Interfaces
@using MagFlow.Shared.Generators.EmailGenerators
@using MudBlazor
@inject IEmailService EmailService
@inject ISnackbar Snackbar

<div class="hero-container d-md-flex align-items-center justify-content-center align-self-stretch flex-shrink-0" style="gap: 80px; background-color: #F8F9FA">
    <div class="d-md-flex flex-column align-items-start" style="gap: 24px; padding-right: 24px; margin-bottom: 24px; min-width: 300px">
        <div class="d-md-flex flex-column justify-content-center align-items-center align-self-stretch" style="padding: 4px 0 7.602px 0; gap: 16px;">
            <div class="d-flex align-items-center justify-content-center">
                <span class="e-badge e-badge-primary align-items-center d-flex" style="background: #CFE2FF; color: #0D6EFD; padding: 2px 8px; border-radius: 12px">@Localizer[Langs.Contact]</span>
            </div>
            <div class="d-flex align-items-center justify-content-center">
                <h2 class="d-flex align-items-start text-center" style="font-size: 32px; font-weight: 700; line-height: 38px; letter-spacing: 0.4px; color: #212529">@Localizer[Langs.LP_Section_Contact_Text1]</h2>
            </div>
        </div>
        <div class="d-md-flex flex-column align-items-start flex-shrink-0" style="padding: 32px 16px; border-radius: 8px; background: #FFF; box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.08)">
            <MudForm @ref="_form" Spacing="4">
                <div class="d-flex align-items-center" style="gap: 16px;">
                    <MudTextField T="string" @bind-Value="_firstName" Placeholder="@Localizer[Langs.John]" Label="@Localizer[Langs.FirstName]" Variant="Variant.Outlined" Margin="Margin.Dense" />
                    <MudTextField T="string" @bind-Value="_lastName" Placeholder="@Localizer[Langs.Smith]" Label="@Localizer[Langs.LastName]" Variant="Variant.Outlined" Margin="Margin.Dense" />
                </div>
                <MudTextField T="string" @bind-Value="_email" Placeholder="@Localizer[Langs.JohnSmithCompanyCom]" Label="@Localizer[Langs.E_mail]" InputType="InputType.Email" Variant="Variant.Outlined" Required="true" RequiredError="@Localizer[Langs.Required]" Margin="Margin.Dense" />
                <MudTextField T="string" @bind-Value="_company" Placeholder="@Localizer[Langs.YourCompanyName]" Label="@Localizer[Langs.Company]" Variant="Variant.Outlined" Margin="Margin.Dense" />
                <MudButton Variant="Variant.Filled"
                           Color="Color.Dark"
                           Style=""
                           OnClick="SubmitForm"
                           Class="btn-dark-base align-self-center">
                    @Localizer[Langs.ContactUs]
                </MudButton>
            </MudForm>
        </div>
    </div>
    <div class="d-md-flex flex-column align-items-start" style="gap: 48px; padding-right: 24px; min-width: 300px">
        <div class="d-md-flex flex-column align-items-start align-self-stretch" style="gap: 24px;">
            <div class="d-flex align-items-start" style="gap: 16px">
                <div class="module-icon" style="background: rgba(13, 110, 253, 0.10);">
                    <i class="bi bi-currency-dollar module-icon-inner" style="color: #0D6EFD"></i>
                </div>
                <div class="d-flex flex-column align-items-start" style="gap: 8px; flex: 1 0 0;">
                    <h5>@Localizer[Langs.LP_Section_Contact_Text2]</h5>
                    <p style='@string.Concat("color: ", Themes.MAIN.PaletteLight.TextSecondary)'>@Localizer[Langs.LP_Section_Contact_Text3]</p>
                </div>
            </div>
            <div class="d-flex align-items-start" style="gap: 16px">
                <div class="module-icon" style="background: rgba(13, 110, 253, 0.10);">
                    <i class="bi bi-signpost-split module-icon-inner" style="color: rgba(0,200,83,1)"></i>
                </div>
                <div class="d-flex flex-column align-items-start" style="gap: 8px; flex: 1 0 0;">
                    <h5>@Localizer[Langs.LP_Section_Contact_Text4]</h5>
                    <p style='@string.Concat("color: ", Themes.MAIN.PaletteLight.TextSecondary)'>@Localizer[Langs.LP_Section_Contact_Text5]</p>
                </div>
            </div>
            <div class="d-flex align-items-start" style="gap: 16px">
                <div class="module-icon" style="background: rgba(13, 110, 253, 0.10);">
                    <MudIcon Icon="@Icons.Material.Outlined.Assignment"
                             Color="Color.Warning" />
                </div>
                <div class="d-flex flex-column align-items-start" style="gap: 8px; flex: 1 0 0;">
                    <h5>@Localizer[Langs.LP_Section_Contact_Text6]</h5>
                    <p style='@string.Concat("color: ", Themes.MAIN.PaletteLight.TextSecondary)'>@Localizer[Langs.LP_Section_Contact_Text7]</p>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    MudForm _form;
    string _firstName = "";
    string _lastName = "";
    string _email = "";
    string _company = "";

    public async Task SubmitForm()
    {
        await EmailService.SendToMeAsync("Contact", EmailGenerator.ContactFormBody(_firstName, _lastName, _email, _company));
        _firstName = "";
        _lastName = "";
        _email = "";
        _company = "";
        Snackbar.Add("Skontaktujemy się z Tobą!");
    }
}
